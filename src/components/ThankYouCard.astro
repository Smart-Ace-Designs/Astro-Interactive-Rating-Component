<div
  class="flex max-w-84 flex-col items-center rounded-2xl bg-linear-to-b from-theme-dark-blue to-theme-dark-blue/50 p-8 md:max-w-101 md:px-6 md:py-12"
  id="card"
>
  <img src="/illustration-thank-you.svg" alt="Thank you" class="mb-6 h-25 md:mb-8 md:h-27" />
  <div
    class="mb-8 rounded-full bg-theme-light-gray/10 px-4 pt-2 pb-1 text-sm text-[#c77f4c] md:px-6 md:tracking-wide"
  >
    You selected <span id="rating"></span> out of 5
  </div>
  <h1 class="mb-3 text-2xl font-bold text-white md:text-3xl md:font-normal">Thank you!</h1>
  <p class="text-center text-sm leading-5.5 text-theme-light-gray md:tracking-wider">
    We appreciate you taking the time to give a rating. If you ever need more support, don't
    hesitate to get in touch!
  </p>
</div>

<script>
  document.addEventListener("astro:page-load", () => {
    document.addEventListener("rating-submitted", (event) => {
      const ratingElement = document.getElementById("rating") as HTMLSpanElement;
      const rating = (event as CustomEvent).detail.rating;
      if (rating) {
        ratingElement.innerHTML = rating;
      }
    });
  });
</script>
